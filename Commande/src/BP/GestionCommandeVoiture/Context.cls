/// This class is generated by the BP.GestionCommandeVoiture BPL class.
/// This class should not be edited or modified in any way.
/// Do not make direct use of this class in your application.
Class BP.GestionCommandeVoiture.Context Extends Ens.BP.Context [ ClassType = persistent, CompileAfter = BP.GestionCommandeVoiture, GeneratedBy = Ens.BPL.Compiler.CLS, ProcedureBlock ]
{

Property nbPlace As %Integer;

Property plaque As %String(MAXLEN = 50);

Property wsCatalogue As webObjet.wsCatalogue;

Property wsVoiture As webObjet.wsVoiture;

/// Response Handler for call to Catalogue
Method OnResponse1(process As Ens.BusinessProcess, context As Ens.BP.Context, request As msg.bpGestionCommandeVoitureDmde, response As msg.bpGestionCommandeVoitureRpse, callrequest As msg.consulterVoitureCatalogueDmde, callresponse As msg.consulterVoitureCatalogueRpse, callname As %String) As %Status [ Language = objectscript, PublicList = (process, context) ]
{
 Set $ZT="Trap",status=$$$OK do {
 Set status=$$$OK,response.codeRetour=callresponse.codeRetour
 If $$$ISERR(status) Quit
 Set status=$$$OK,response.libErreur=callresponse.libErreur
 If $$$ISERR(status) Quit
 Set status=$$$OK,context.nbPlace=callresponse.voiture.nbPlaces
 If $$$ISERR(status) Quit
 Do ##class(Ens.DataTransform).instantiateProps(context,"context.wsCatalogue.marque")
 Set status=$$$OK,context.wsCatalogue.marque=callresponse.voiture.marque
 If $$$ISERR(status) Quit
 Do ##class(Ens.DataTransform).instantiateProps(context,"context.wsCatalogue.modele")
 Set status=$$$OK,context.wsCatalogue.modele=callresponse.voiture.modele
 If $$$ISERR(status) Quit
 Do ##class(Ens.DataTransform).instantiateProps(context,"context.wsCatalogue.type")
 Set status=$$$OK,context.wsCatalogue.type=callresponse.voiture.type
 If $$$ISERR(status) Quit
 Do ##class(Ens.DataTransform).instantiateProps(context,"context.wsCatalogue.prix")
 Set status=$$$OK,context.wsCatalogue.prix=callresponse.voiture.prix
 If $$$ISERR(status) Quit
 Do ##class(Ens.DataTransform).instantiateProps(context,"context.wsCatalogue.nbPlaces")
 Set status=$$$OK,context.wsCatalogue.nbPlaces=callresponse.voiture.nbPlaces
 If $$$ISERR(status) Quit
 } while (0)
Exit Quit status
Trap Set $ZT="",status=##class(Ens.Util.Error).EnsSystemError("BP.GestionCommandeVoiture.Thread1","OnResponse1")
 Goto Exit
}

/// Response Handler for call to Plaque
Method OnResponse2(process As Ens.BusinessProcess, context As Ens.BP.Context, request As msg.bpGestionCommandeVoitureDmde, response As msg.bpGestionCommandeVoitureRpse, callrequest As msg.generationPlaqueDmde, callresponse As msg.generationPlaqueRpse, callname As %String) As %Status [ Language = objectscript, PublicList = (process, context) ]
{
 Set $ZT="Trap",status=$$$OK do {
 Set status=$$$OK,context.plaque=callresponse.plaque
 If $$$ISERR(status) Quit
 Set status=$$$OK,response.codeRetour=callresponse.codeRetour
 If $$$ISERR(status) Quit
 Set status=$$$OK,response.libErreur=callresponse.libErreur
 If $$$ISERR(status) Quit
 } while (0)
Exit Quit status
Trap Set $ZT="",status=##class(Ens.Util.Error).EnsSystemError("BP.GestionCommandeVoiture.Thread1","OnResponse2")
 Goto Exit
}

/// Response Handler for call to Voiture
Method OnResponse3(process As Ens.BusinessProcess, context As Ens.BP.Context, request As msg.bpGestionCommandeVoitureDmde, response As msg.bpGestionCommandeVoitureRpse, callrequest As msg.creerVoitureDmde, callresponse As msg.creerVoitureRpse, callname As %String) As %Status [ Language = objectscript, PublicList = (process, context) ]
{
 Set $ZT="Trap",status=$$$OK do {
 Set status=$$$OK,response.codeRetour=callresponse.codeRetour
 If $$$ISERR(status) Quit
 Set status=$$$OK,response.libErreur=callresponse.libErreur
 If $$$ISERR(status) Quit
 } while (0)
Exit Quit status
Trap Set $ZT="",status=##class(Ens.Util.Error).EnsSystemError("BP.GestionCommandeVoiture.Thread1","OnResponse3")
 Goto Exit
}

Storage Default
{
<Data name="ContextDefaultData1">
<Subscript>"Context"</Subscript>
<Value name="1">
<Value>nbPlace</Value>
</Value>
<Value name="2">
<Value>plaque</Value>
</Value>
<Value name="3">
<Value>wsCatalogue</Value>
</Value>
<Value name="4">
<Value>wsVoiture</Value>
</Value>
</Data>
<DefaultData>ContextDefaultData1</DefaultData>
<Type>%Storage.Persistent</Type>
}

}
